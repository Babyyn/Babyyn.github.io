
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Starbucks启动优化 · Android</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="a284628487">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="Launch-Optimize.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Welcome
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Starbucks
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="FLAG_ACTIVITY_NEW_TASK.html">
            
                <a href="FLAG_ACTIVITY_NEW_TASK.html">
            
                    
                    FLAG_ACTIVITY_NEW_TASK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="Launch-Optimize.html">
            
                <a href="Launch-Optimize.html">
            
                    
                    App启动时间
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.3" data-path="Starbucks-Launch-Opt.html">
            
                <a href="Starbucks-Launch-Opt.html">
            
                    
                    Starbucks启动优化
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    RxJava
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../RxJava/RxJava-Operator.html">
            
                <a href="../RxJava/RxJava-Operator.html">
            
                    
                    RxJava常用操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../RxJava/RxJava-Flow.html">
            
                <a href="../RxJava/RxJava-Flow.html">
            
                    
                    RxJava流程分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../RxJava/RxJava-RxAndroid.html">
            
                <a href="../RxJava/RxJava-RxAndroid.html">
            
                    
                    RxAndroid使用UI线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../RxJava/RxJava-Scheduler.html">
            
                <a href="../RxJava/RxJava-Scheduler.html">
            
                    
                    Scheduler任务调度器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../RxJava/RxJava-IoScheduler.html">
            
                <a href="../RxJava/RxJava-IoScheduler.html">
            
                    
                    IoScheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../RxJava/Scheduler-Practice.html">
            
                <a href="../RxJava/Scheduler-Practice.html">
            
                    
                    IoScheduler实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    OkHttp
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../OkHttp/OkHttp.html">
            
                <a href="../OkHttp/OkHttp.html">
            
                    
                    OkHttp网络请求框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../OkHttp/OkHttp-Interceptor.html">
            
                <a href="../OkHttp/OkHttp-Interceptor.html">
            
                    
                    OkHttp拦截器Interceptor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../OkHttp/OkHttp-AddInterceptor.html">
            
                <a href="../OkHttp/OkHttp-AddInterceptor.html">
            
                    
                    OkHttp添加Interceptor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Material
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Material/M-BottomAppBar.html">
            
                <a href="../Material/M-BottomAppBar.html">
            
                    
                    BottomAppBar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Material/M-BottomNavigationView.html">
            
                <a href="../Material/M-BottomNavigationView.html">
            
                    
                    BottomNavigationView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Material/M-Toolbar.html">
            
                <a href="../Material/M-Toolbar.html">
            
                    
                    Toolbar
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Jetpack
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../Jetpack/Lifecycle-ViewModel.html">
            
                <a href="../Jetpack/Lifecycle-ViewModel.html">
            
                    
                    ViewModel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../Jetpack/Lifecycle-Lifecycle.html">
            
                <a href="../Jetpack/Lifecycle-Lifecycle.html">
            
                    
                    Handing Lifecycles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../Jetpack/Lifecycle-LiveData.html">
            
                <a href="../Jetpack/Lifecycle-LiveData.html">
            
                    
                    LiveData
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Android Crash
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Crash-finalize.html">
            
                <a href="Crash-finalize.html">
            
                    
                    finalize timeout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Crash-JobIntentService.html">
            
                <a href="Crash-JobIntentService.html">
            
                    
                    JobIntentService timeout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Crash-WorkManager.html">
            
                <a href="Crash-WorkManager.html">
            
                    
                    WorkManager initialize
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Util
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../Util/git-svn.html">
            
                <a href="../Util/git-svn.html">
            
                    
                    Git/SVN
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../Util/adb.html">
            
                <a href="../Util/adb.html">
            
                    
                    Android ADB命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Node.Js 基础
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../Node.js/NodeJS-Begin.html">
            
                <a href="../Node.js/NodeJS-Begin.html">
            
                    
                    NodeJS 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../Node.js/NodeJS-Common-Module.html">
            
                <a href="../Node.js/NodeJS-Common-Module.html">
            
                    
                    NodeJS 基础模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../Node.js/NodeJS-Util.html">
            
                <a href="../Node.js/NodeJS-Util.html">
            
                    
                    NodeJS Util工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../Node.js/NodeJS-Buffer.html">
            
                <a href="../Node.js/NodeJS-Buffer.html">
            
                    
                    NodeJS Buffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../Node.js/NodeJS-File.html">
            
                <a href="../Node.js/NodeJS-File.html">
            
                    
                    NodeJS 文件读写
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../Node.js/NodeJS-Stream.html">
            
                <a href="../Node.js/NodeJS-Stream.html">
            
                    
                    NodeJS Stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../Node.js/NodeJS-Crypto.html">
            
                <a href="../Node.js/NodeJS-Crypto.html">
            
                    
                    NodeJS 加密模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../Node.js/NodeJS-EventLoop.html">
            
                <a href="../Node.js/NodeJS-EventLoop.html">
            
                    
                    NodeJS 事件循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="../Node.js/NodeJS-Http.html">
            
                <a href="../Node.js/NodeJS-Http.html">
            
                    
                    NodeJS Http模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="../Node.js/NodeJS-Module-Principle.html">
            
                <a href="../Node.js/NodeJS-Module-Principle.html">
            
                    
                    NodeJS 模块原理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Node.Js 模块实践
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../Node.js/NodeJS-MySQL.html">
            
                <a href="../Node.js/NodeJS-MySQL.html">
            
                    
                    NodeJS MySQL数据库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../Node.js/NodeJS-Express.html">
            
                <a href="../Node.js/NodeJS-Express.html">
            
                    
                    NodeJS Express
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../Node.js/NodeJS-Express-Router.html">
            
                <a href="../Node.js/NodeJS-Express-Router.html">
            
                    
                    NodeJS Express Router
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../Node.js/NodeJS-RESTful-Api.html">
            
                <a href="../Node.js/NodeJS-RESTful-Api.html">
            
                    
                    NodeJS RESTful Api
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../Node.js/NodeJS-Promise-Callback.html">
            
                <a href="../Node.js/NodeJS-Promise-Callback.html">
            
                    
                    NodeJS Promise Callback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../Node.js/NodeJS-EventProxy-Async.html">
            
                <a href="../Node.js/NodeJS-EventProxy-Async.html">
            
                    
                    NodeJS EventProxy Async
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../Node.js/NodeJS-ejs.html">
            
                <a href="../Node.js/NodeJS-ejs.html">
            
                    
                    NodeJS EJS模板
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../Node.js/NodeJS-Spider.html">
            
                <a href="../Node.js/NodeJS-Spider.html">
            
                    
                    NodeJS Cheerio爬虫
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="../Node.js/NodeJS-Excel.html">
            
                <a href="../Node.js/NodeJS-Excel.html">
            
                    
                    NodeJS Excel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" data-path="../Node.js/NodeJS-Static-File.html">
            
                <a href="../Node.js/NodeJS-Static-File.html">
            
                    
                    NodeJS 静态文件服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" data-path="../Node.js/NodeJS-Test.html">
            
                <a href="../Node.js/NodeJS-Test.html">
            
                    
                    NodeJS 测试框架
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Starbucks启动优化</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#&#x7814;&#x7A76;&#x76EE;&#x7684;"><b>1.1. </b>&#x7814;&#x7A76;&#x76EE;&#x7684;</a></li><li><span class="title-icon "></span><a href="#&#x6D4B;&#x8BD5;&#x8BBE;&#x5907;"><b>1.2. </b>&#x6D4B;&#x8BD5;&#x8BBE;&#x5907;</a></li><li><span class="title-icon "></span><a href="#&#x73B0;&#x72B6;"><b>1.3. </b>&#x73B0;&#x72B6;</a></li><ul><li><span class="title-icon "></span><a href="#zte"><b>1.3.1. </b>ZTE</a></li><li><span class="title-icon "></span><a href="#note8"><b>1.3.2. </b>Note8</a></li></ul><li><span class="title-icon "></span><a href="#&#x4F18;&#x5316;oncreate"><b>1.4. </b>&#x4F18;&#x5316;onCreate</a></li><ul><li><span class="title-icon "></span><a href="#zte_1"><b>1.4.1. </b>ZTE</a></li><li><span class="title-icon "></span><a href="#note8_1"><b>1.4.2. </b>Note8</a></li></ul><li><span class="title-icon "></span><a href="#bindapplication"><b>1.5. </b>bindApplication</a></li><li><span class="title-icon "></span><a href="#inflate"><b>1.6. </b>inflate</a></li><ul><li><span class="title-icon "></span><a href="#zte_2"><b>1.6.1. </b>ZTE</a></li><li><span class="title-icon "></span><a href="#note8_2"><b>1.6.2. </b>Note8</a></li></ul><li><span class="title-icon "></span><a href="#&#x767B;&#x5F55;&#x72B6;&#x6001;"><b>1.7. </b>&#x767B;&#x5F55;&#x72B6;&#x6001;</a></li><ul><li><span class="title-icon "></span><a href="#zte_3"><b>1.7.1. </b>ZTE</a></li><li><span class="title-icon "></span><a href="#note8_3"><b>1.7.2. </b>Note8</a></li></ul><li><span class="title-icon "></span><a href="#&#x540E;&#x7EED;"><b>1.8. </b>&#x540E;&#x7EED;</a></li></ul></ul></div><a href="#" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><p>App&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x4F18;&#x5316;</p>
<h2 id="&#x7814;&#x7A76;&#x76EE;&#x7684;"><a name="&#x7814;&#x7A76;&#x76EE;&#x7684;" class="anchor-navigation-ex-anchor" href="#&#x7814;&#x7A76;&#x76EE;&#x7684;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. &#x7814;&#x7A76;&#x76EE;&#x7684;</h2>
<p>&#x4F18;&#x5316;App&#x542F;&#x52A8;&#x65F6;&#x95F4;&#xFF0C;&#x63D0;&#x5347;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x3002;</p>
<h2 id="&#x6D4B;&#x8BD5;&#x8BBE;&#x5907;"><a name="&#x6D4B;&#x8BD5;&#x8BBE;&#x5907;" class="anchor-navigation-ex-anchor" href="#&#x6D4B;&#x8BD5;&#x8BBE;&#x5907;"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. &#x6D4B;&#x8BD5;&#x8BBE;&#x5907;</h2>
<ol>
<li><strong>ZTE-BA602</strong>: RAM <strong>3G</strong>&#xFF0C;CPU <strong>&#x8054;&#x53D1;&#x79D1; MT6737</strong></li>
<li><strong>&#x8363;&#x8000;Note8</strong>: RAM <strong>4G</strong>&#xFF0C;CPU <strong>&#x6D77;&#x601D; &#x9E92;&#x9E9F; 955</strong></li>
</ol>
<h2 id="&#x73B0;&#x72B6;"><a name="&#x73B0;&#x72B6;" class="anchor-navigation-ex-anchor" href="#&#x73B0;&#x72B6;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. &#x73B0;&#x72B6;</h2>
<p>&#x5728;ZTE&#x624B;&#x673A;&#x548C;Note8&#x624B;&#x673A;&#x4E0A;&#xFF0C;&#x5206;&#x522B;&#x542F;&#x52A8;App&#x5E76;&#x6293;&#x53D6;&#x65E5;&#x5FD7;&#x3002;</p>
<h3 id="zte"><a name="zte" class="anchor-navigation-ex-anchor" href="#zte"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. ZTE</h3>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">24</span>:<span class="hljs-number">57.772</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">7</span>s904ms
<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00.318</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s563ms

<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">25</span>:<span class="hljs-number">24.359</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">7</span>s952ms
<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">25</span>:<span class="hljs-number">26.800</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s519ms

<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">28</span>:<span class="hljs-number">58.079</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">7</span>s926ms
<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">29</span>:<span class="hljs-number">00.741</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s621ms
</code></pre>
<p>LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>7.9s</strong>&#xFF0C;HomeActivity[<strong>&#x672A;&#x767B;&#x5F55;</strong>]&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>1.6s</strong>&#x3002;</p>
<h3 id="note8"><a name="note8" class="anchor-navigation-ex-anchor" href="#note8"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Note8</h3>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">38</span>:<span class="hljs-number">06.159</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">4</span>s967ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">38</span>:<span class="hljs-number">08.689</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s78ms

<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">38</span>:<span class="hljs-number">21.113</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s124ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">38</span>:<span class="hljs-number">23.240</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s13ms

<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">38</span>:<span class="hljs-number">35.584</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">4</span>s805ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">38</span>:<span class="hljs-number">37.750</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">986</span>ms
</code></pre>
<p>LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>5s</strong>&#xFF0C;HomeActivity[<strong>&#x672A;&#x767B;&#x5F55;</strong>]&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>1s</strong>&#x3002;</p>
<blockquote>
<p>ZTE&#x548C;Note8&#x624B;&#x673A;&#x4E0A;&#xFF0C;LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x90FD;&#x592A;&#x957F;&#xFF0C;&#x731C;&#x6D4B;&#x662F;<code>Application.onCreate()</code>&#x505A;&#x4E86;&#x592A;&#x591A;&#x7B2C;&#x4E09;&#x65B9;SDK&#x7684;&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x4F5C;&#x5BFC;&#x81F4;&#x7684;&#x3002;</p>
</blockquote>
<h2 id="&#x4F18;&#x5316;oncreate"><a name="&#x4F18;&#x5316;oncreate" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;oncreate"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. &#x4F18;&#x5316;onCreate</h2>
<p>&#x5C06;onCreate&#x4E2D;&#x7684;&#x90E8;&#x5206;&#x4E0D;&#x662F;App&#x4E00;&#x542F;&#x52A8;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x7684;&#x7684;&#x529F;&#x80FD;&#x76F8;&#x5173;&#x7684;&#x7B2C;&#x4E09;&#x65B9;SDK&#x7684;&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x4F5C;&#xFF0C;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x5EF6;&#x8FDF;&#x6267;&#x884C;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> fun <span class="hljs-title">lazyInit</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (BuildConfig.DEBUG) {
        <span class="hljs-keyword">if</span> (LeakCanary.isInAnalyzerProcess(<span class="hljs-keyword">this</span>)) {
            <span class="hljs-keyword">return</span>
        }
        LeakCanary.install(<span class="hljs-keyword">this</span>)
    }

    FmPaymentManager.initWX(<span class="hljs-keyword">this</span>, WXPayEnv.WECHAT_PAYMENT_APP_ID)
    FmPaymentManager.FMSDKBuildType(<span class="hljs-keyword">if</span> (BuildConfig.FLAVOR_env == <span class="hljs-string">&quot;prod&quot;</span>) SDKTYPE.SDK_PRO <span class="hljs-keyword">else</span> SDKTYPE.SDK_DEV)

    <span class="hljs-comment">// JPush</span>
    JPushInterface.init(<span class="hljs-keyword">this</span>)
    JPushInterface.setDebugMode(BuildConfig.DEBUG) <span class="hljs-comment">// &#x8BBE;&#x7F6E;&#x5F00;&#x542F;&#x65E5;&#x5FD7;,&#x53D1;&#x5E03;&#x65F6;&#x8BF7;&#x5173;&#x95ED;&#x65E5;&#x5FD7;</span>
    d(<span class="hljs-string">&quot;JPush regId:${JPushInterface.getRegistrationID(this)}&quot;</span>)

    <span class="hljs-comment">//</span>
    <span class="hljs-keyword">if</span> (!BuildConfig.PINNED_HTTP_CLIENT) Stetho.initialize(stethoInitializer)

    SoundUtil.enabled = AppPrefsUtil.isSoundEnabled(<span class="hljs-keyword">this</span>)
    <span class="hljs-keyword">if</span> (SoundUtil.enabled) {
        AppPrefsUtil.setSoundEnabled(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">true</span>)
        SoundUtil.init(<span class="hljs-keyword">this</span>)
    }

    AppPrefsUtil.initUseMaleBarista(<span class="hljs-keyword">this</span>)

    SsoHelper.initSso(<span class="hljs-keyword">this</span>)
    WXShare.instance().init(FmPaymentManager.getWXAPI())

    MigrationUtil.initPreference(<span class="hljs-keyword">this</span>)
    FRMS.instance().startup(<span class="hljs-keyword">this</span>)
    FRMS.instance().setURL(ApiEnv.ATO_URL)
    FRMS.instance().setCustID(<span class="hljs-string">&quot;ato&quot;</span>)

    MiPushClient.getRegId(applicationContext)?.let { id -&gt;
        d(<span class="hljs-string">&quot;Xiaomi Rid $id&quot;</span>)
        skipJPushReceiver = id.isNullOrEmpty().not()
    }

    requestToggle()

    <span class="hljs-comment">//</span>
    CalligraphyConfig.initDefault(calligraphyConfig)

    initQbSdk()
}
</code></pre>
<p>&#x5728;<code>Application.onCreate</code>&#x4E2D;&#xFF0C;&#x5EF6;&#x8FDF;&#x6267;&#x884C;<strong>lazyInit</strong>&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-function">override fun <span class="hljs-title">onCreate</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// ...</span>
    Observable.timer(<span class="hljs-number">10</span>, TimeUnit.SECONDS)
            .subscribeOn(Schedulers.io())
            .map {
                lazyInit()
                it
            }
            .subscribe()
}
</code></pre>
<p>&#x518D;&#x6B21;&#x542F;&#x52A8;App&#xFF0C;&#x5728;ZTE&#x624B;&#x673A;&#x548C;Note8&#x624B;&#x673A;&#x4E0A;&#x5206;&#x522B;&#x542F;&#x52A8;App&#x5E76;&#x6293;&#x53D6;&#x65E5;&#x5FD7;&#x3002;</p>
<h3 id="zte_1"><a name="zte_1" class="anchor-navigation-ex-anchor" href="#zte_1"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. ZTE</h3>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">32</span>:<span class="hljs-number">21.232</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s600ms
<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">32</span>:<span class="hljs-number">23.857</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s419ms

<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">32</span>:<span class="hljs-number">38.687</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s556ms
<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">32</span>:<span class="hljs-number">41.336</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s376ms

<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">32</span>:<span class="hljs-number">54.051</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s522ms
<span class="hljs-number">06</span>-<span class="hljs-number">25</span> <span class="hljs-number">11</span>:<span class="hljs-number">32</span>:<span class="hljs-number">56.709</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s386ms
</code></pre>
<p>LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>5.5s</strong>&#xFF0C;HomeActivity[<strong>&#x672A;&#x767B;&#x5F55;</strong>]&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>1.4s</strong>&#x3002;</p>
<blockquote>
<p>&#x4F18;&#x5316;&#x7ED3;&#x679C;&#xFF1A;LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7F29;&#x77ED;&#x7EA6;<strong>2.4s</strong>&#xFF0C;&#x6574;&#x4F53;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7F29;&#x77ED;<strong>2.5s</strong>&#x3002;</p>
</blockquote>
<h3 id="note8_1"><a name="note8_1" class="anchor-navigation-ex-anchor" href="#note8_1"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.2. Note8</h3>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">31</span>:<span class="hljs-number">47.412</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s398ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">31</span>:<span class="hljs-number">49.778</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s102ms

<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">32</span>:<span class="hljs-number">00.972</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s507ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">32</span>:<span class="hljs-number">03.126</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">858</span>ms

<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">32</span>:<span class="hljs-number">46.983</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s335ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">32</span>:<span class="hljs-number">49.173</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">891</span>ms
</code></pre>
<p>LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>2.5s</strong>&#xFF0C;HomeActivity[<strong>&#x672A;&#x767B;&#x5F55;</strong>]&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>900ms</strong>&#x3002;</p>
<blockquote>
<p>&#x4F18;&#x5316;&#x7ED3;&#x679C;&#xFF1A;LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7F29;&#x77ED;&#x7EA6;<strong>2.5s</strong>&#xFF0C;&#x6574;&#x4F53;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7F29;&#x77ED;<strong>2.5s</strong>&#x3002;</p>
</blockquote>
<p>&#x867D;&#x7136;&#x5728;&#x4E24;&#x6B3E;&#x8BBE;&#x5907;&#x4E0A;&#xFF0C;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x90FD;&#x6709;&#x5927;&#x5E45;&#x5EA6;&#x7F29;&#x77ED;&#xFF0C;&#x4F46;&#x662F;&#x4F18;&#x5316;&#x540E;&#x7684;&#x8FD9;&#x4E2A;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x76F8;&#x6BD4;&#x5176;&#x5B83;App&#xFF0C;&#x4E5F;&#x662F;<strong>&#x4E0D;&#x5FCD;&#x76F4;&#x89C6;</strong>!!!</p>
<h2 id="bindapplication"><a name="bindapplication" class="anchor-navigation-ex-anchor" href="#bindapplication"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. bindApplication</h2>
<p>&#x4F7F;&#x7528;systrace&#x5DE5;&#x5177;&#x6293;&#x53D6;trace&#x65E5;&#x5FD7;&#xFF0C;&#x5206;&#x6790;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7A76;&#x7ADF;&#x88AB;&#x6D88;&#x8017;&#x5728;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x3002;</p>
<p><img src="../images/SB_OPT_BINDAPPLICATION.png" alt="home_optimize_zte"></p>
<p>&#x4E0A;&#x56FE;&#x662F;<strong>ZTE</strong>&#x624B;&#x673A;&#x4E0A;&#xFF0C;&#x4E00;&#x6B21;&#x542F;&#x52A8;App&#x65F6;&#x6293;&#x53D6;&#x5230;&#x7684;trace&#x65E5;&#x5FD7;&#xFF0C;UI Thread &#x6C34;&#x5E73;&#x8F74;&#x4E0A;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;bindApplication&#x6267;&#x884C;&#x4E86;&#x5F88;&#x957F;&#x7684;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;<strong>4.407s</strong>&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x4F18;&#x5316;&#x540E;LauncherActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>5.5s</strong>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5927;&#x90E8;&#x5206;&#x65F6;&#x95F4;&#x90FD;&#x88AB;&#x8017;&#x5728;bindApplication&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E0A;&#x4E86;&#x3002;</p>
<p>bindApplication&#x4F55;&#x65B9;&#x795E;&#x5723;&#xFF0C;&#x4ED6;&#x662F;&#x5728;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x88AB;&#x6267;&#x884C;&#x7684;&#xFF1F;</p>
<pre><code class="lang-java"><span class="hljs-meta">@GuardedBy</span>(<span class="hljs-string">&quot;this&quot;</span>)
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">attachApplicationLocked</span><span class="hljs-params">(IApplicationThread thread,
        <span class="hljs-keyword">int</span> pid, <span class="hljs-keyword">int</span> callingUid, <span class="hljs-keyword">long</span> startSeq)</span> </span>{

    thread.bindApplication(processName, appInfo, providers, <span class="hljs-keyword">null</span>, profilerInfo,
            <span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, testMode,
            mBinderTransactionTrackingEnabled, enableTrackAllocation,
            isRestrictedBackupMode || !normalMode, app.persistent,
            <span class="hljs-keyword">new</span> Configuration(getGlobalConfiguration()), app.compat,
            getCommonServicesLocked(app.isolated),
            mCoreSettingsObserver.getCoreSettingsLocked(),
            buildSerial, isAutofillCompatEnabled);           
}
</code></pre>
<p>&#x5728;Android&#x7CFB;&#x7EDF;&#x6E90;&#x7801;ActivityManagerService&#x91CC;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x5B83;&#x7684;&#x8E2A;&#x8FF9;&#xFF0C;&#x5B83;&#x662F;&#x5728;attachApplicationLocked&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;ApplicationThread&#x8C03;&#x7528;&#x5230;App&#x8FDB;&#x7A0B;&#x4E2D;&#x7684;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;Application&#x5BF9;&#x8C61;&#x5728;AMS&#x4E2D;&#x521B;&#x5EFA;&#x5B8C;&#x6210;&#x3002;&#x800C;&#x8BE5;&#x65B9;&#x6CD5;&#x6700;&#x7EC8;&#x53C8;&#x5C06;&#x8C03;&#x7528;&#x5230;Application.onCreate()&#xFF0C;&#x4F46;&#x4E0A;&#x9762;&#x5DF2;&#x7ECF;&#x5BF9;onCreate()&#x65B9;&#x6CD5;&#x505A;&#x4E86;&#x4F18;&#x5316;&#xFF0C;&#x96BE;&#x9053;&#x5269;&#x4E0B;&#x7684;&#x90A3;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#x9700;&#x8981;&#x8DB3;&#x8DB3;<strong>4s+</strong>&#x6765;&#x6267;&#x884C;&#xFF1F;&#x770B;&#x770B;&#x7236;&#x7C7B;DaggerApplication&#x505A;&#x4E86;&#x4EC0;&#x4E48;&#x5DE5;&#x4F5C;&#x5427;&#x3002;</p>
<pre><code class="lang-java">  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.onCreate();
    injectIfNecessary();
  }

  <span class="hljs-comment">/**
   * Implementations should return an {<span class="hljs-doctag">@link</span> AndroidInjector} for the concrete {<span class="hljs-doctag">@link</span>
   * DaggerApplication}. Typically, that injector is a {<span class="hljs-doctag">@link</span> dagger.Component}.
   */</span>
  <span class="hljs-meta">@ForOverride</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> AndroidInjector&lt;? extends DaggerApplication&gt; applicationInjector();

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">injectIfNecessary</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">if</span> (needToInject) {
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-keyword">this</span>) {
          <span class="hljs-keyword">if</span> (needToInject) {
            <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">&quot;unchecked&quot;</span>)
            AndroidInjector&lt;DaggerApplication&gt; applicationInjector =
            (AndroidInjector&lt;DaggerApplication&gt;) applicationInjector();
            applicationInjector.inject(<span class="hljs-keyword">this</span>);
          }
        }
      }
    }
</code></pre>
<p>DaggerApplication.onCreate()&#xFF0C;&#x8C03;&#x7528;&#x4E86;injectIfNecessary()&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x662F;dagger&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x6846;&#x67B6;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x3002;</p>
<p><code>applicationInjector()</code>&#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<code>dagger.Component</code>&#x5BF9;&#x8C61;&#xFF0C;&#x518D;&#x56DE;&#x8FC7;&#x5934;&#x6765;&#x770B;MobileApp&#x91CC;&#x9762;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-function">override fun <span class="hljs-title">applicationInjector</span><span class="hljs-params">()</span>: AndroidInjector&lt;out DaggerApplication&gt; </span>{
    mobileAppComponent = DaggerMobileAppComponent.builder().create(<span class="hljs-keyword">this</span>) as MobileAppComponent
    <span class="hljs-keyword">return</span> mobileAppComponent
}
</code></pre>
<p>&#x5B83;&#x8FD4;&#x56DE;&#x4E86;&#x4E00;&#x4E2A;DaggerMobileAppComponent&#xFF0C;&#x8BE5;&#x7C7B;&#x662F;dagger&#x6846;&#x67B6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;&#x67E5;&#x770B;&#x8BE5;&#x7C7B;&#x7684;&#x6E90;&#x7801;&#xFF1A;</p>
<p><img src="../images/SB_OPT_DAGGER_COMPONENT.png" alt="component"></p>
<p>&#x8BE5;&#x7C7B;&#x5C45;&#x7136;&#x8FBE;&#x5230;&#x4E86;&#x5938;&#x5F20;&#x7684;<strong>138412</strong>&#x884C;&#x4EE3;&#x7801;&#x3002;&#x629B;&#x5F00;&#x6267;&#x884C;&#x91CC;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;jvm&#x5C06;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x5E9E;&#x5927;&#x7684;class&#x52A0;&#x8F7D;&#x8FDB;&#x5185;&#x5B58;&#xFF0C;&#x4E5F;&#x8981;&#x8017;&#x8D39;&#x4E0D;&#x5C11;&#x65F6;&#x95F4;&#x3002;&#x800C;<code>inject(MobileApp)</code>&#x65B9;&#x6CD5;&#xFF0C;&#x4E5F;&#x6267;&#x884C;&#x4E86;&#x5F88;&#x591A;&#x5176;&#x5B83;&#x76F8;&#x5173;&#x7EC4;&#x4EF6;&#x7684;inject&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code class="lang-java">  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(MobileApp arg0)</span> </span>{
    DaggerApplication_MembersInjector.injectActivityInjector(
        instance, getDispatchingAndroidInjectorOfActivity());
    DaggerApplication_MembersInjector.injectBroadcastReceiverInjector(
        instance, getDispatchingAndroidInjectorOfBroadcastReceiver());
    DaggerApplication_MembersInjector.injectFragmentInjector(
        instance, getDispatchingAndroidInjectorOfFragment());
    DaggerApplication_MembersInjector.injectServiceInjector(
        instance, getDispatchingAndroidInjectorOfService());
    DaggerApplication_MembersInjector.injectContentProviderInjector(
        instance, getDispatchingAndroidInjectorOfContentProvider());
    DaggerApplication_MembersInjector.injectSetInjected(instance);
    MobileApp_MembersInjector.injectFabric(instance, getFabric());
    MobileApp_MembersInjector.injectAnswers(instance, getAnswers());
    MobileApp_MembersInjector.injectGa(instance, getGoogleAnalytics());
    MobileApp_MembersInjector.injectTracker(instance, getTracker());
    MobileApp_MembersInjector.injectExecutor(instance, getAppExecutor());
    MobileApp_MembersInjector.injectEarth(instance, getEarth());
    MobileApp_MembersInjector.injectSentry(instance, getSentryClient());
    MobileApp_MembersInjector.injectCrashlytics(
        instance,
        MobileAppModule_ProvideCrashlyticsFactory.proxyProvideCrashlytics(mobileAppModule));
    MobileApp_MembersInjector.injectCalligraphyConfig(
        instance,
        MobileAppModule_ProvideCalligraphyConfigFactory.proxyProvideCalligraphyConfig(
            mobileAppModule));
    MobileApp_MembersInjector.injectStethoInitializer(instance, getInitializer());
    MobileApp_MembersInjector.injectDefaultRealmConfig(instance, getRealmConfiguration());
    MobileApp_MembersInjector.injectDispatchingAndroidInjector(
        instance, getDispatchingAndroidInjectorOfActivity());
    MobileApp_MembersInjector.injectAppSharedReference(instance, getNamedSecurePreferences());
    MobileApp_MembersInjector.injectMaintenanceManager(
        instance, provideMaintenanceManagerProvider.get());
    MobileApp_MembersInjector.injectThirdPartyLoginManager(
        instance, provideThirdPartyLoginManagerProvider.get());
    <span class="hljs-keyword">return</span> instance;
  }
</code></pre>
<blockquote>
<p>App&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x8FC7;&#x957F;&#xFF0C;&#x662F;&#x7531;Dagger&#x7EC4;&#x4EF6;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x662F;Dagger&#x672C;&#x8EAB;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8FD8;&#x662F;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0D;&#x6B63;&#x786E;&#xFF1F;</p>
</blockquote>
<h2 id="inflate"><a name="inflate" class="anchor-navigation-ex-anchor" href="#inflate"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. inflate</h2>
<p>&#x5728;ZTE&#x624B;&#x673A;&#x4E0A;&#xFF0C;HomeActivity[<strong>&#x672A;&#x767B;&#x5F55;</strong>]&#x542F;&#x52A8;&#x65F6;&#x95F4;<strong>1.5s</strong>&#xFF0C;&#x5728;Note8&#x4E0A;&#xFF0C;HomeActivity[<strong>&#x672A;&#x767B;&#x5F55;</strong>]&#x542F;&#x52A8;&#x65F6;&#x95F4;<strong>1s</strong>&#x5DE6;&#x53F3;&#xFF0C;&#x4E5F;&#x662F;&#x6BD4;&#x8F83;&#x957F;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x4EEC;&#x7684;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x53C8;&#x8017;&#x8D39;&#x5728;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x4E86;&#xFF0C;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x4F18;&#x5316;&#xFF1F;</p>
<p>&#x7EE7;&#x7EED;&#x4F7F;&#x7528;systrace&#x5DE5;&#x5177;&#x6293;&#x53D6;&#x65E5;&#x5FD7;&#xFF1A;</p>
<p><img src="../images/SB_OPT_HOMELANDING.png" alt="home_landing_ori"></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;activityStart&#x4E0B;&#x65B9;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x5F88;&#x957F;&#x7684;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;inflate&#xFF0C;inflater&#x5373;&#x662F;&#x52A0;&#x8F7D;xml&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x65B9;&#x6CD5;&#xFF0C;so&#xFF0C;&#x901A;&#x8FC7;&#x5C1D;&#x8BD5;&#x5C06;HomeActivity&#x4E2D;<code>setContentView</code>&#x5BF9;&#x5E94;&#x7684;View&#x63D0;&#x524D;&#x52A0;&#x8F7D;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x6765;&#x5BF9;&#x6BD4;&#x89C2;&#x5BDF;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x3002;</p>
<h3 id="zte_2"><a name="zte_2" class="anchor-navigation-ex-anchor" href="#zte_2"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.1. ZTE</h3>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">17</span>:<span class="hljs-number">58.704</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s881ms
<span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">18</span>:<span class="hljs-number">00.899</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">976</span>ms

<span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">18</span>:<span class="hljs-number">12.372</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s469ms
<span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">18</span>:<span class="hljs-number">14.553</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">964</span>ms

<span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">18</span>:<span class="hljs-number">42.199</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s466ms
<span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">18</span>:<span class="hljs-number">44.432</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s1ms

<span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">19</span>:<span class="hljs-number">38.421</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s701ms
<span class="hljs-number">06</span>-<span class="hljs-number">28</span> <span class="hljs-number">23</span>:<span class="hljs-number">19</span>:<span class="hljs-number">40.418</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">987</span>ms
</code></pre>
<blockquote>
<p>HomeActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>1s</strong>&#xFF0C;&#x76F8;&#x6BD4;&#x4F18;&#x5316;&#x524D;&#x7F29;&#x77ED;<strong>0.5s</strong>&#x3002;</p>
</blockquote>
<h3 id="note8_2"><a name="note8_2" class="anchor-navigation-ex-anchor" href="#note8_2"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.2. Note8</h3>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">25</span>:<span class="hljs-number">39.769</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s345ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">25</span>:<span class="hljs-number">41.672</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">630</span>ms

<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">25</span>:<span class="hljs-number">54.929</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s263ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">25</span>:<span class="hljs-number">56.808</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">533</span>ms

<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">26</span>:<span class="hljs-number">04.912</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s331ms
<span class="hljs-number">06</span>-<span class="hljs-number">29</span> <span class="hljs-number">13</span>:<span class="hljs-number">26</span>:<span class="hljs-number">06.743</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">536</span>ms
</code></pre>
<blockquote>
<p>HomeActivity&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>550ms</strong>&#xFF0C;&#x76F8;&#x6BD4;&#x4F18;&#x5316;&#x524D;&#x7F29;&#x77ED;<strong>350ms</strong>&#x3002;</p>
</blockquote>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x901A;&#x8FC7;&#x63D0;&#x524D;&#x52A0;&#x8F7D;View&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F18;&#x5316;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x3002;</p>
<h2 id="&#x767B;&#x5F55;&#x72B6;&#x6001;"><a name="&#x767B;&#x5F55;&#x72B6;&#x6001;" class="anchor-navigation-ex-anchor" href="#&#x767B;&#x5F55;&#x72B6;&#x6001;"><i class="fa fa-link" aria-hidden="true"></i></a>1.7. &#x767B;&#x5F55;&#x72B6;&#x6001;</h2>
<p>&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x90FD;&#x662F;&#x672A;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x4E0B;HomeActivity&#x7684;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#xFF0C;&#x800C;&#x5B9E;&#x9645;&#x4E0A;&#x767B;&#x5F55;&#x548C;&#x672A;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;HomeActivity&#x4E2D;&#x7684;&#x5E03;&#x5C40;&#x6709;&#x533A;&#x522B;&#xFF0C;&#x5DF2;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x4E0B;&#x5E03;&#x5C40;&#x66F4;&#x52A0;&#x590D;&#x6742;&#xFF0C;&#x91C7;&#x7528;&#x540C;&#x4E0A;&#x9762;&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x63D0;&#x524D;&#x52A0;&#x8F7D;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x3002;</p>
<h3 id="zte_3"><a name="zte_3" class="anchor-navigation-ex-anchor" href="#zte_3"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.1. ZTE</h3>
<h4 id="&#x4F18;&#x5316;&#x524D;"><a name="&#x4F18;&#x5316;&#x524D;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#x524D;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5316;&#x524D;</h4>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">05</span>:<span class="hljs-number">47.847</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s729ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">05</span>:<span class="hljs-number">51.968</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">3</span>s151ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">06</span>:<span class="hljs-number">08.709</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s726ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">06</span>:<span class="hljs-number">12.811</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">3</span>s173ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">06</span>:<span class="hljs-number">45.754</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s792ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">06</span>:<span class="hljs-number">49.607</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">2</span>s810ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">07</span>:<span class="hljs-number">25.095</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s768ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">07</span>:<span class="hljs-number">29.154</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">3</span>s123ms
</code></pre>
<h4 id="&#x4F18;&#x5316;&#x540E;"><a name="&#x4F18;&#x5316;&#x540E;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#x540E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5316;&#x540E;</h4>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">47</span>:<span class="hljs-number">35.002</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s823ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">47</span>:<span class="hljs-number">38.308</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">2</span>s21ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">47</span>:<span class="hljs-number">49.915</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s840ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">47</span>:<span class="hljs-number">53.196</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">2</span>s356ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">48</span>:<span class="hljs-number">09.662</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">5</span>s802ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">48</span>:<span class="hljs-number">13.146</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">2</span>s604ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">48</span>:<span class="hljs-number">30.558</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">6</span>s193ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">48</span>:<span class="hljs-number">33.722</span>  <span class="hljs-number">1042</span>  <span class="hljs-number">1064</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">2</span>s191ms
</code></pre>
<blockquote>
<p>HomeActivity&#x4F18;&#x5316;&#x524D;&#x7EA6;<strong>3.1s</strong>&#xFF0C;&#x4F18;&#x5316;&#x540E;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>2.3s</strong>&#xFF0C;&#x76F8;&#x6BD4;&#x4F18;&#x5316;&#x524D;&#x7F29;&#x77ED;<strong>0.8s</strong>&#x3002;</p>
</blockquote>
<h3 id="note8_3"><a name="note8_3" class="anchor-navigation-ex-anchor" href="#note8_3"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.2. Note8</h3>
<h4 id="&#x4F18;&#x5316;&#x524D;_1"><a name="&#x4F18;&#x5316;&#x524D;_1" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#x524D;_1"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5316;&#x524D;</h4>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">26</span>:<span class="hljs-number">54.110</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s674ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">26</span>:<span class="hljs-number">56.927</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s890ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">27</span>:<span class="hljs-number">05.461</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">3</span>s366ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">27</span>:<span class="hljs-number">08.289</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s826ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">27</span>:<span class="hljs-number">43.781</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">3</span>s513ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">27</span>:<span class="hljs-number">46.368</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s746ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">28</span>:<span class="hljs-number">33.809</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s524ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">28</span>:<span class="hljs-number">36.772</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s878ms
</code></pre>
<h4 id="&#x4F18;&#x5316;&#x540E;_1"><a name="&#x4F18;&#x5316;&#x540E;_1" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#x540E;_1"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5316;&#x540E;</h4>
<pre><code class="lang-java"><span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">32</span>:<span class="hljs-number">42.091</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">2</span>s568ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">32</span>:<span class="hljs-number">44.136</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">983</span>ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">32</span>:<span class="hljs-number">54.673</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">3</span>s404ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">32</span>:<span class="hljs-number">57.000</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s319ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">33</span>:<span class="hljs-number">09.442</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">3</span>s623ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">33</span>:<span class="hljs-number">11.481</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s250ms

<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">33</span>:<span class="hljs-number">28.835</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.LauncherActivity: +<span class="hljs-number">3</span>s464ms
<span class="hljs-number">06</span>-<span class="hljs-number">30</span> <span class="hljs-number">12</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.895</span>   <span class="hljs-number">976</span>  <span class="hljs-number">1035</span> I ActivityManager: Displayed com.starbucks.cn/.ui.welcome.HomeActivity: +<span class="hljs-number">1</span>s68ms
</code></pre>
<blockquote>
<p>HomeActivity&#x4F18;&#x5316;&#x524D;&#x7EA6;<strong>1.8s</strong>&#xFF0C;&#x4F18;&#x5316;&#x540E;&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x7EA6;<strong>1.2s</strong>&#xFF0C;&#x76F8;&#x6BD4;&#x4F18;&#x5316;&#x524D;&#x7F29;&#x77ED;<strong>0.6s</strong>&#x3002;</p>
</blockquote>
<h2 id="&#x540E;&#x7EED;"><a name="&#x540E;&#x7EED;" class="anchor-navigation-ex-anchor" href="#&#x540E;&#x7EED;"><i class="fa fa-link" aria-hidden="true"></i></a>1.8. &#x540E;&#x7EED;</h2>
<h4 id="&#x7EBF;&#x7A0B;&#x4F18;&#x5316;"><a name="&#x7EBF;&#x7A0B;&#x4F18;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x7EBF;&#x7A0B;&#x4F18;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7EBF;&#x7A0B;&#x4F18;&#x5316;</h4>
<p>&#x907F;&#x514D;&#x5728;App&#x521B;&#x5EFA;&#x8FC7;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x592A;&#x591A;&#xFF0C;UI&#x7EBF;&#x7A0B;&#x4E0D;&#x80FD;&#x53CA;&#x65F6;&#x5F97;&#x5230;CPU&#x7684;&#x6267;&#x884C;&#x6743;&#xFF0C;&#x5BFC;&#x81F4;&#x5361;&#x987F;&#x6389;&#x5E27;&#x751A;&#x81F3;ANR&#x3002;</p>
<p><a href="file:///Users/chunfu.caithouthtworks.com/Downloads/sbapk/optimize/home_landing_ori.html" target="_blank">file:///Users/chunfu.caithouthtworks.com/Downloads/sbapk/optimize/home_landing_ori.html</a></p>
<p><img src="../images/SB_OPT_FRAME.png" alt="thread"></p>
<p>&#x8BE5;Frame&#x6267;&#x884C;&#x6D88;&#x8017;&#x4E86;121ms&#xFF0C;traces&#x65E5;&#x5FD7;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;CPU&#x5927;&#x91CF;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x90FD;&#x82B1;&#x5728;&#x6267;&#x884C;<code>RxCachedThreadS</code>&#x7EBF;&#x7A0B;&#x4EFB;&#x52A1;&#x4E0A;&#x4E86;&#xFF0C;&#x5BFC;&#x81F4;UI&#x7EBF;&#x7A0B;&#x672A;&#x5F97;&#x5230;&#x6267;&#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x7814;&#x7A76;&#x5BFC;&#x81F4;&#x8BE5;&#x95EE;&#x9898;&#x7684;&#x539F;&#x56E0;( <strong>&#x7F51;&#x7EDC;&#x5361;&#x987F;&#x963B;&#x585E;</strong>&#xFF1F;<strong>App&#x81EA;&#x8EAB;&#x95EE;&#x9898;</strong>&#xFF1F;)&#x3002;</p>
<h4 id="xml&#x5E03;&#x5C40;"><a name="xml&#x5E03;&#x5C40;" class="anchor-navigation-ex-anchor" href="#xml&#x5E03;&#x5C40;"><i class="fa fa-link" aria-hidden="true"></i></a>xml&#x5E03;&#x5C40;</h4>
<p>&#x7F16;&#x5199;xml&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x5C3D;&#x91CF;&#x4F7F;xml&#x7B80;&#x5355;&#xFF0C;&#x51CF;&#x5C11;&#x5D4C;&#x5957;&#x5C42;&#x6B21;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528;<strong>merge</strong>&#x6807;&#x7B7E;&#xFF1B;
&#x907F;&#x514D;&#x76F4;&#x63A5;&#x5728;xml&#x5E03;&#x5C40;&#x4E2D;&#x8BBE;&#x7F6E;&#x5C3A;&#x5BF8;&#x6BD4;&#x8F83;&#x5927;&#x7684;Image&#x4E4B;&#x7C7B;&#x7684;&#x64CD;&#x4F5C;(Image&#x56FA;&#x5B9A;&#x4E0D;&#x53D8;&#x7684;&#x9664;&#x5916;)&#xFF1B;
&#x5BF9;&#x4E8E;&#x4E00;&#x5F00;&#x59CB;&#x4E0D;&#x5FC5;&#x987B;&#x8981;&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#x4F7F;&#x7528;<strong>ViewStub</strong>&#x6807;&#x7B7E;&#x5305;&#x88F9;&#xFF1B;</p>
<p><a href="file:///Users/chunfu.caithouthtworks.com/Downloads/sbapk/optimize/aty_home.html" target="_blank">file:///Users/chunfu.caithouthtworks.com/Downloads/sbapk/optimize/aty_home.html</a></p>
<p><img src="../images/SB_OPT_VIEW_INFLATE.png" alt=""></p>
<p>&#x4E0A;&#x56FE;&#x4E2D;&#x9009;&#x4E2D;&#x7684;&#x7684;&#x4E3A;decodeBitmap&#x6240;&#x6D88;&#x8017;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x4E3A;53.609ms&#xFF0C;&#x5B83;&#x53D1;&#x751F;&#x5728;inflate&#x9636;&#x6BB5;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x5728;&#x521D;&#x59CB;&#x5316;LinearLayout&#x7684;&#x5468;&#x671F;&#x8303;&#x56F4;&#x5185;&#xFF0C;&#x731C;&#x6D4B;&#x5E94;&#x8BE5;&#x662F;&#x7ED9;&#x67D0;&#x4E2A;LinearLayout&#x8BBE;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A;&#x80CC;&#x666F;&#x56FE;&#x3002;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x786E;&#x5B9E;&#x6709;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>
    <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/card_header_container&quot;</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span>
    <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@drawable/bg_gold&quot;</span>
    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>
    <span class="hljs-attr">android:paddingTop</span>=<span class="hljs-string">&quot;24dp&quot;</span>
    <span class="hljs-attr">android:paddingBottom</span>=<span class="hljs-string">&quot;24dp&quot;</span>
    <span class="hljs-attr">app:layout_constraintTop_toTopOf</span>=<span class="hljs-string">&quot;parent&quot;</span>&gt;</span>
</code></pre>
<p>&#x7ED9;LinearLayout&#x8BBE;&#x7F6E;&#x4E86;<code>background</code>&#xFF0C;&#x4F1A;&#x6709;decodeBitmap&#x7684;&#x4EE3;&#x4EF7;&#x3002;</p>
<p>&#x53E6;&#x5916;&#x4E0A;&#x56FE;&#x4E2D;&#xFF0C;inflate&#x5468;&#x671F;&#x5185;&#xFF0C;BridgeWebView&#x7684;&#x521D;&#x59CB;&#x5316;&#x4E5F;&#x8017;&#x8D39;&#x4E86;&#x8F83;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;<strong>ViewStub</strong>&#x6807;&#x7B7E;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x3002;</p>
<h4 id="&#x56FE;&#x7247;&#x8D44;&#x6E90;"><a name="&#x56FE;&#x7247;&#x8D44;&#x6E90;" class="anchor-navigation-ex-anchor" href="#&#x56FE;&#x7247;&#x8D44;&#x6E90;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x56FE;&#x7247;&#x8D44;&#x6E90;</h4>
<p>&#x51CF;&#x5C0F;&#x56FE;&#x7247;&#x8D44;&#x6E90;&#x5927;&#x5C0F;&#xFF0C;&#x5F53;&#x52A0;&#x8F7D;&#x56FE;&#x7247;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x8981;&#x8017;&#x8D39;&#x5927;&#x91CF;&#x65F6;&#x95F4;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Launch-Optimize.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: App启动时间">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Starbucks启动优化","level":"1.2.3","depth":2,"next":{"title":"RxJava","level":"1.3","depth":1,"ref":"","articles":[{"title":"RxJava常用操作符","level":"1.3.1","depth":2,"path":"Sources/RxJava/RxJava-Operator.md","ref":"Sources/RxJava/RxJava-Operator.md","articles":[]},{"title":"RxJava流程分析","level":"1.3.2","depth":2,"path":"Sources/RxJava/RxJava-Flow.md","ref":"Sources/RxJava/RxJava-Flow.md","articles":[]},{"title":"RxAndroid使用UI线程","level":"1.3.3","depth":2,"path":"Sources/RxJava/RxJava-RxAndroid.md","ref":"Sources/RxJava/RxJava-RxAndroid.md","articles":[]},{"title":"Scheduler任务调度器","level":"1.3.4","depth":2,"path":"Sources/RxJava/RxJava-Scheduler.md","ref":"Sources/RxJava/RxJava-Scheduler.md","articles":[]},{"title":"IoScheduler","level":"1.3.5","depth":2,"path":"Sources/RxJava/RxJava-IoScheduler.md","ref":"Sources/RxJava/RxJava-IoScheduler.md","articles":[]},{"title":"IoScheduler实践","level":"1.3.6","depth":2,"path":"Sources/RxJava/Scheduler-Practice.md","ref":"Sources/RxJava/Scheduler-Practice.md","articles":[]}]},"previous":{"title":"App启动时间","level":"1.2.2","depth":2,"path":"Sources/Program/Launch-Optimize.md","ref":"Sources/Program/Launch-Optimize.md","articles":[]},"dir":"ltr"},"config":{"plugins":["heading-anchors","anchor-navigation-ex"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"anchor-navigation-ex":{"mode":"float","pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"showLevel":true,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right","showGoTop":true,"isShowTocTitleIcon":false,"printLog":false,"multipleH1":true,"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false}},"heading-anchors":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"a284628487","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Android","language":"zh-hans","output.name":"site","links":{"sidebar":{}},"gitbook":"3.2.3","description":"Android"},"file":{"path":"Sources/Program/Starbucks-Launch-Opt.md","mtime":"2019-08-09T13:31:21.299Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-09-20T14:26:05.778Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

